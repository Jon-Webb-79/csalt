// ================================================================================
// ================================================================================
// - File:    array.h
// - Purpose: Describe the file purpose here
//
// Source Metadata
// - Author:  Jonathan A. Webb
// - Date:    February 21, 2026
// - Version: 1.0
// - Copyright: Copyright 2026, Jon Webb Inc.
// ================================================================================
// ================================================================================
#ifndef array_H
#define array_H

#include <stdlib.h>  // size_t
#include <stdint.h>  // uint8_t

#include "c_error.h"
#include "c_allocator.h"
// ================================================================================ 
// ================================================================================ 
#ifdef __cplusplus
extern "C" {
#endif
// ================================================================================ 
// ================================================================================ 

typedef struct {
    uint8_t* data;
    size_t len;
    size_t alloc;
    size_t data_size;
} array_t;
// -------------------------------------------------------------------------------- 

typedef struct {
    bool has_value;
    union  {
        array_t* value;
        error_code_t error;
    } u;
} array_expect_t;
// -------------------------------------------------------------------------------- 

array_expect_t init_array(size_t indices, size_t indice_size, allocator_vtable_t allocator);
// ================================================================================ 
// ================================================================================ 
#ifdef __cplusplus
}
#endif /* cplusplus */
#endif /* array_H */
// ================================================================================
// ================================================================================
// eof
